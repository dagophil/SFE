#ifndef SFE_GAME_HXX
#define SFE_GAME_HXX

#include <SFML/Graphics.hpp>

#include "screen.hxx"

namespace sfe
{
    ////////////////////////////////////////////////////////////
    /// Base class for all game applications.
    ////////////////////////////////////////////////////////////
    class Game
    {
    public:

        ////////////////////////////////////////////////////////////
        /// Initialize the game.
        ////////////////////////////////////////////////////////////
        Game(unsigned int width, unsigned int height, std::string const & title, sf::Uint32 style = sf::Style::Default);

        ////////////////////////////////////////////////////////////
        /// Run the game loop.
        ////////////////////////////////////////////////////////////
        void run();

        ////////////////////////////////////////////////////////////
        /// Initialize the game components.
        ////////////////////////////////////////////////////////////
        virtual void init() = 0;

        ////////////////////////////////////////////////////////////
        /// Return the render window.
        ////////////////////////////////////////////////////////////
        sf::RenderWindow & get_window();

        ////////////////////////////////////////////////////////////
        /// Return the render window.
        ////////////////////////////////////////////////////////////
        sf::RenderWindow const & get_window() const;

    protected:

        ////////////////////////////////////////////////////////////
        /// Update the game components.
        ////////////////////////////////////////////////////////////
        virtual void update(sf::Time elapsed_time) = 0;

        ////////////////////////////////////////////////////////////
        /// The current screen.
        ////////////////////////////////////////////////////////////
        Screen screen_;

        ////////////////////////////////////////////////////////////
        /// The render window.
        ////////////////////////////////////////////////////////////
        sf::RenderWindow window_;

    private:

        ////////////////////////////////////////////////////////////
        /// The clock that measures the elapsed time per frame.
        ////////////////////////////////////////////////////////////
        sf::Clock clock_;

    }; // class Game

} // namespace sfe

#endif
